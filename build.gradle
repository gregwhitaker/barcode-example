plugins {
    id 'com.gradle.build-scan' version '1.16'
    id 'java'
}

buildScan {
    termsOfServiceUrl = 'https://gradle.com/terms-of-service'
    termsOfServiceAgree = 'yes'
    publishOnFailure()
}

sourceCompatibility = 1.8

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile 'com.google.zxing:core:3.3.3'
    compile 'com.google.zxing:javase:3.3.3'
    compile 'com.fasterxml.jackson.core:jackson-databind:2.9.7'
}

task generateBarcode(type: JavaExec) {
    main = 'barcode.example.Main'
    classpath = sourceSets.main.runtimeClasspath
    args = [ 'generate', './myqrcode.png']
}

task readBarcode(type: JavaExec) {
    main = 'barcode.example.Main'
    classpath = sourceSets.main.runtimeClasspath
    args = [ 'read', './myqrcode.png']
}